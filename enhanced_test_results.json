[
  {
    "test": "Environment Configuration",
    "success": false,
    "message": "Some services unavailable",
    "details": {
      "frontend": false,
      "backend": false,
      "supabase": false
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "Enhanced Database Schema",
    "success": false,
    "message": "Core tables missing",
    "details": {
      "users": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/users?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eef5b10>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "user_settings": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/user_settings?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eef7c10>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "user_devices": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/user_devices?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eefde50>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "companies": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/companies?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eef7cd0>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "user_subscriptions": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/user_subscriptions?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eef5790>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "stripe_products": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/stripe_products?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71f2beb90>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "stripe_prices": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/stripe_prices?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eedc490>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "payment_history": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/payment_history?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eefcbd0>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
      "invitations": "ERROR: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /rest/v1/invitations?limit=1 (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71ef04810>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))"
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "Google OAuth Integration",
    "success": false,
    "message": "OAuth test failed: HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /auth/v1/authorize (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eedf8d0>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))",
    "details": {
      "error": "HTTPSConnectionPool(host='dfzspjqgvdzosrddqcje.supabase.co', port=443): Max retries exceeded with url: /auth/v1/authorize (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0xfcd71eedf8d0>: Failed to resolve 'dfzspjqgvdzosrddqcje.supabase.co' ([Errno -2] Name or service not known)\"))"
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "Stripe Integration Setup",
    "success": false,
    "message": "Stripe endpoints not found",
    "details": {
      "/stripe-api/create-checkout-session": {
        "exists": false,
        "error": "HTTPConnectionPool(host='localhost', port=5173): Max retries exceeded with url: /.netlify/functions/stripe-api/create-checkout-session (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xfcd71eedccd0>: Failed to establish a new connection: [Errno 111] Connection refused'))"
      },
      "/stripe-api/create-portal-session": {
        "exists": false,
        "error": "HTTPConnectionPool(host='localhost', port=5173): Max retries exceeded with url: /.netlify/functions/stripe-api/create-portal-session (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xfcd71eefef50>: Failed to establish a new connection: [Errno 111] Connection refused'))"
      },
      "/stripe-api/webhook": {
        "exists": false,
        "error": "HTTPConnectionPool(host='localhost', port=5173): Max retries exceeded with url: /.netlify/functions/stripe-api/webhook (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xfcd71eef6050>: Failed to establish a new connection: [Errno 111] Connection refused'))"
      }
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "N8N Integration Setup",
    "success": true,
    "message": "N8N service layer configured (will use mock responses if N8N not available)",
    "details": {
      "reply_webhook_configured": false,
      "email_webhook_configured": false,
      "token_configured": false,
      "service_layer_working": true
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "Enhanced Settings Billing Tab",
    "success": false,
    "message": "Settings billing tab test failed: HTTPConnectionPool(host='localhost', port=5173): Max retries exceeded with url: /settings (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xfcd71eef6a10>: Failed to establish a new connection: [Errno 111] Connection refused'))",
    "details": {
      "error": "HTTPConnectionPool(host='localhost', port=5173): Max retries exceeded with url: /settings (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xfcd71eef6a10>: Failed to establish a new connection: [Errno 111] Connection refused'))"
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "AI Generation Button Connectivity",
    "success": true,
    "message": "AI generation services connected",
    "details": {
      "reply": {
        "service_configured": true,
        "mock_available": true
      },
      "email": {
        "service_configured": true,
        "mock_available": true
      }
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "Upgrade Button Connectivity",
    "success": false,
    "message": "Upgrade buttons not connected",
    "details": {
      "/stripe-api/create-checkout-session": {
        "connected": false,
        "error": "HTTPConnectionPool(host='localhost', port=5173): Max retries exceeded with url: /.netlify/functions/stripe-api/create-checkout-session (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xfcd71eefde10>: Failed to establish a new connection: [Errno 111] Connection refused'))"
      }
    },
    "timestamp": "2025-08-06 20:07:27"
  },
  {
    "test": "Overall Integration Health",
    "success": false,
    "message": "Some critical services unhealthy",
    "details": {
      "backend_communication": false,
      "database_connectivity": false,
      "error_handling": false
    },
    "timestamp": "2025-08-06 20:07:27"
  }
]